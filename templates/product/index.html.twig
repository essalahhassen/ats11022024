{# templates/index.html.twig #}

<!DOCTYPE html>
<html>
<head>
    <title>Liste des produits</title>
</head>
<body>
    <h1>Liste des produits</h1>
    {# Formulaire de recherche #}
    <form action="{{ path('app_products') }}" method="get">
        <label for="searchTerm">Recherche par nom de produit :</label>
        <input type="text" id="searchTerm" name="searchTerm" value="{{ app.request.query.get('searchTerm') }}" />
        
        <label for="category">Catégorie :</label>
        <input type="text" id="category" name="category" value="{{ app.request.query.get('category') }}" />
        
        <label for="minPrice">Prix minimum :</label>
        <input type="number" id="minPrice" name="minPrice" value="{{ app.request.query.get('minPrice') }}" />
        
        <button type="submit">Rechercher</button>
    </form>
    <ul>
        {% for product in products %}
            <li>
                <h2>{{ product.productName }}</h2>
                <p>Catégorie: {{ product.category }}</p>
                <p>Prix: {{ product.price }}</p>
                <img src="{{ product.imageUrl }}" alt="{{ product.productName }}">
            </li>
        {% endfor %}
    </ul>
   {# Affichage de la pagination #}
    <div class="pagination">
        {{ knp_pagination_render(products) }}
    </div>
</body>
</html>